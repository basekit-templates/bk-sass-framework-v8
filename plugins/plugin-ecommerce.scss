
// -----------------------------
//  PLUGINS: Ecommerce
// -----------------------------




// -----------------------------
//  Table of Contents
// -----------------------------

//  1.     General Styling & Resets
//  2.     Product Filters
//  3.     Product List

//  4.     Single Product
//  4.1    Product Form

//  5.     Ecommerce Images
//  6.     Basket Widget
//  7.     Basket Summary





// -------------------------------
//  1. General Styling & Resets
// -------------------------------


// List reset
.product-list,
.ecombasket__basket-list,
.ecomcategorieslist__category,
.ecomproduct__product-gallery {
    list-style: none;
    margin: 0;
}





// -------------------------------
//  2. Product Filters
// -------------------------------


.ecomproductslist__listing-title + .ecomproductslist__product-filters {
    margin-top: 6px;
}


.ecomproductslist__listing-order {
    padding: 12px 0;
}


// Product Filters
.ecomproductslist__form-group {
    display: inline-block;
    margin-right: 3px;
    vertical-align: bottom;
}





// -------------------------------
//  3. Product List
// -------------------------------


// Image height
.ecomproductslist__product-item-image,
.ecomproductslist__image-link,
.ecomproductslist__image {
    line-height: 250px;
    max-height: 250px;
}


// Product header and price spacing
.ecomproductslist__product-content{
    margin-top: 12px;
}


.ecomproductslist__listing-footer {
    margin: 12px 0;
}


// Product List Pagination
.ecomproductslist__pagination-item {
    display: inline-block;


    .ecomproductslist__button {
        padding: 3px 6px;
    }
}





// -------------------------------
//  4. Single Product
// -------------------------------


// Featured product image height
.ecomproduct__image {
    line-height: 500px;
    max-height: 500px;

    @media #{$mobile} {
        line-height: 300px;
        max-height: 300px;
    }
}


// Product gallery thumbnails
.ecomproduct__product-gallery {
    margin: 12px 0;


    .ecomproduct__image {
        max-height: 80px;

        @media #{$mobile} {
            max-height: 60px;
        }
    }
}


// Hide featured background image
.ecomproduct__image-link {
    background-position: -9999px;
    background-repeat: no-repeat;


    &:hover {
        cursor: -webkit-zoom-in;
        cursor: -moz-zoom-in;
    }
}


.ecomproduct__gallery-item,
.ecombasket__image-link {
    cursor: pointer;
    display: inline-block;
    line-height: 80px;
    height: 80px;
    width: 80px;
    vertical-align: top;

    @media #{$mobile} {
        line-height: 50px;
        height: 50px;
        width: 50px;
    }
}




//  4.1 Product Form
// -----------------------------


.product-actions {
    margin: 12px 0;
}


.ecomproduct__button {

    // Add product confirmation
    &.added {
        background: green;
        transition: background 0.5s ease;

        &:before {
            content: "\f00c";
            display: inline;
        }
    }


    // Reduce opacity on inactive buttons
    &:disabled {
         opacity: 0.3;
    }
}


// Tax Explainer
.ecomproduct__tax-explainer {
    color: fade($color__p--text, 25%);
    font-size: 14px;
    line-height: 22px;
    margin-top: 6px;
}





// -------------------------------
//  5. Ecommerce Images
// -------------------------------


.ecomproductslist__product-item-image,
.ecomproductslist__image-link,
.ecomproduct__gallery-item,
.ecomproduct__image-link,
.ecombasket__image-link {
    background-repeat: no-repeat;
    background-position: -9999px;
    overflow: hidden;
    text-align: center;
}


// Image centering
.ecomproductslist__image,
.ecomproduct__image,
.ecombasket__image,
.ecombasketsummary__image,
.ecombasketsummary__summary-item-link {
    display: inline-block;
    max-width: 100%;
    vertical-align: middle;
}





// -------------------------------
//  6. Basket Widget
// -------------------------------


.ecombasket__basket-body {
    display: none; // Hide by default


    .show-content & {
        display: block;
    }
}


.ecombasket__basket-item {
    margin-bottom: 6px;
    position: relative;


    &:last-child {
        margin-bottom: 0;
    }
}


// Basket Total
.ecombasket__basket-footer {
    margin-top: 12px;
}


// Item Remove Button
.ecombasket__item-remove {
    font-size: 12px;
    line-height: 12px;
    padding: 3px 6px;


    // Remove icon spacing
    &:before {
        margin-right: 0;
    }
}




// -------------------------------
//  7. Basket Summary
// -------------------------------


.ecombasketsummary__summary-table {
    width: 100%;


    // Table Row
    .ecombasketsummary__table-row {

        @media #{$mobile} {
            border-bottom: 1px solid darken($color__body--background, 10%);
            @include flex-display();
            @include flex-direction(column);
            padding-top: 12px;
        }
    }


    // Table Row Heading
    .table-row--heading {

        @media #{$mobile} {
            display: none;
        }
    }


    // Table Cell: General
    .ecombasketsummary__cell {
        border-radius: 0;
        padding: 3px 6px;
        text-align: left;
        vertical-align: middle;

        @media #{$mobile} {
            border: 0;
            display: block;
            padding-left: 0;
            padding-right: 0;
            width: 100%;
        }


        &:not(.cell--title):before {

            @media #{$mobile} {
                content: attr(data-title);
                display: block;
                font-size: 12px;
                line-height: 1.2;
            }
        }
    }


    // Column: Image
    .cell--image,
    .cell-quantity {
        width: 15%;

        @media #{$mobile} {
            padding-bottom: 20px;
            width: 100%;
        }
    }


    // Column: Title
    .cell--title {
        width: 50%;

        @media #{$mobile} {
            padding-top: 0;
            padding-bottom: 0;
            width: 100%;
        }
    }


    // Column: Price & Total
    .cell--price,
    .cell--total {
        width: 10%;

        @media #{$mobile} {
            border-top: 1px solid darken($color__body--background, 10%);
            width: 100%;
        }
    }
}


.ecombasketsummary__summary-form {

    @media #{$mobile} {
        margin-top: 12px;
    }
}


// Quantity Wrap
.ecombasketsummary__quantity-wrap {
    background-color: darken($color__body--background, 5%);
    @include flex-display();
    @include justify-content(space-between);
    width: 70%;

    @media #{$tablet} {
        width: 100%;
    }

    @media #{$mobile} {
        max-width: 90px;
        margin-top: 0.5em;
        width: initial;
    }


    // Quantity Inputs
    .button--quantity {
        line-height: initial;
        padding: 0 3px;
    }
}


// Quantity buttons
.ecombasketsummary__quantity-minus,
.ecombasketsummary__quantity-plus {

    &:disabled {
        opacity: 0.3;
    }
}
